on: [push, pull_request]
name: Test

env:
  GO_VERSION: 1.21.0

jobs:
  test:
    runs-on: ubunutu-latest
    steps:
    - uses: actions/setup-go@v3
      with:
        go-version: ${{ env.GO_VERSION }}

    - uses: actions/checkout@v3

    - run: go test ./...
    - run: go vet ./...

    - run: diff <(echo -n) <(gofmt -s -d .)
